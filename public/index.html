<!DOCTYPE html>
<!-- –°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ, –õ–µ—Å. –°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ, –õ–∏—Å—Ç. –¢—ã —á–∞—Å—Ç—å –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è, –∂–∏–∑–Ω–∏ –∏ —Ç–µ–ø–ª–∞ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ üå± -->
<!-- –°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ, –°–æ–ª–Ω—Ü–µ. –¢—ã –∫–æ—Ä–º–∏—à—å, —Å–æ–≥—Ä–µ–≤–∞–µ—à—å –∏ —Å–æ–µ–¥–∏–Ω—è–µ—à—å –Ω–∞—Å –≤—Å–µ—Ö –≤ –∫—Ä—É–≥–æ–≤–æ—Ä–æ—Ç–µ –∂–∏–∑–Ω–∏ ‚òÄÔ∏è -->

<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Nature App</title>
  <style>
    /* —Å–ª–æ–π –¥–ª—è –ª–∏—Å—Ç—å–µ–≤ */
    #leaf-layer {
      position: fixed; inset: 0; pointer-events: none; overflow: hidden;
    }

    .leaf {
      position: absolute; bottom: -60px;
  will-change: transform, opacity, filter;
  filter: drop-shadow(0 2px 2px rgba(0,0,0,.25));
  transform-origin: 50% 50%;
  opacity: var(--op, .9);
  animation:
    rise var(--dur, 3600ms) linear forwards,
    sway var(--swayDur, 1800ms) ease-in-out infinite alternate,
    flip var(--flipDur, 2600ms) ease-in-out infinite;
    }

    @keyframes rise {
      0%   { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0; }
  10%  { opacity: var(--op, .9); }
  100% { transform: translateY(-115vh) translateX(var(--dx, 0px)) rotate(var(--rot, 0deg)); opacity: 0; }
    }

    @keyframes sway {
      from { transform: translateY(var(--y,0)) translateX(-10px) rotate(var(--rA, -6deg)); }
  to   { transform: translateY(var(--y,0)) translateX( 10px) rotate(var(--rB,  6deg)); }
    }
   @keyframes flip {
  0%   { transform: rotateY(0deg); }
  50%  { transform: rotateY(var(--flip, 25deg)); }
  100% { transform: rotateY(0deg); }
}
/* ¬´–≥–ª—É–±–∏–Ω–∞¬ª: –¥–∞–ª—å–Ω–∏–µ –º–µ–Ω—å—à–µ/–ø–ª–∞–≤–Ω–µ–µ, –±–ª–∏–∂–Ω–∏–µ –∫—Ä—É–ø–Ω–µ–µ/–∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–µ–µ */
.leaf.far  { filter: drop-shadow(0 1px 1px rgba(0,0,0,.18)) blur(0.3px); }
.leaf.mid  { filter: drop-shadow(0 2px 2px rgba(0,0,0,.22)); }
.leaf.near { filter: drop-shadow(0 3px 3px rgba(0,0,0,.28)); }

/* —É–≤–∞–∂–µ–Ω–∏–µ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é: –º–µ–Ω—å—à–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø—Ä–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ */
@media (prefers-reduced-motion: reduce) {
  .leaf { animation-duration: calc(var(--dur,3600ms) * 1.6); }
}

    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      background: #e4fbd1 url('leaves.png') center/cover no-repeat;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: Arial, sans-serif;
      color: #2e4d2e;
      overflow: hidden;
    }

    h1 {
      background-color: rgba(255, 255, 255, 0.7);
      padding: 10px 20px;
      border-radius: 12px;
      margin: 0 0 8px;
    }

    #counter { font-size: 20px; margin-top: 10px; }

    button {
      background-color: orange;
      color: white;
      padding: 15px 30px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-size: 18px;
      margin-top: 20px;
      box-shadow: 0 3px 6px rgba(0,0,0,0.3);
      transition: transform .15s ease, filter .15s ease;
    }
    button:hover { background-color: darkorange; transform: translateY(-1px); filter: brightness(1.03); }

    #quote {
      margin-top: 15px;
      font-style: italic;
      text-align: center;
      max-width: 300px;
    }
  </style>
</head>
<body>
  <div id="leaf-layer" aria-hidden="true"></div>

  <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Nature App üåø</h1>
  <p id="counter">–¢—ã —É–∂–µ —Å–¥–µ–ª–∞–ª 0 –¥–æ–±—Ä—ã—Ö –¥–µ–ª üíö</p>
  <button onclick="helpNature()">–Ø –ø–æ–º–æ–≥ –ø—Ä–∏—Ä–æ–¥–µ üå±</button>
  <p id="quote"></p>

  <script>
    // --- –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ –≤ –∫–æ–¥–µ ---
    /* –°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ, –õ–µ—Å. –°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ, –õ–∏—Å—Ç. –¢—ã —á–∞—Å—Ç—å –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è, –∂–∏–∑–Ω–∏ –∏ —Ç–µ–ø–ª–∞ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ üå± */
    /* –°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ, –°–æ–ª–Ω—Ü–µ. –¢—ã –∫–æ—Ä–º–∏—à—å, —Å–æ–≥—Ä–µ–≤–∞–µ—à—å –∏ —Å–æ–µ–¥–∏–Ω—è–µ—à—å –Ω–∞—Å –≤—Å–µ—Ö –≤ –∫—Ä—É–≥–æ–≤–æ—Ä–æ—Ç–µ –∂–∏–∑–Ω–∏ ‚òÄÔ∏è */

    // PNG-–ª–∏—Å—Ç —Ä—è–¥–æ–º —Å index.html
    const LEAF_IMAGES = ['leaf_heart.png'];
     LEAF_IMAGES.forEach(src => { const i=new Image(); i.src=src; });

/* ¬´–≤–µ—Ç–µ—Ä¬ª ‚Äî –ø–ª–∞–≤–Ω—ã–π —Å–Ω–æ—Å –ø–æ X */
const WIND = { vx: 0, target: 0 };
    setInterval(()=>{ WIND.target = (Math.random()*220 - 110); }, 3000);
    setInterval(()=>{ WIND.vx += (WIND.target - WIND.vx)*0.04; }, 50);

    const layer = document.getElementById('leaf-layer');
    const rand = (a,b)=> a + Math.random()*(b-a);
    const pick = arr => arr[Math.floor(Math.random()*arr.length)];


    function spawnLeaf(whichLayer){
      const img = document.createElement('img');
      img.className = `leaf ${whichLayer || pick(['far','mid','near'])}`;
      img.src = pick(LEAF_IMAGES);
      img.alt = 'leaf';


      const L = img.classList.contains('far')  ? {size:[14,28],  dur:[3600,5200], sway:[1700,2300], op:[.55,.7]} :
            img.classList.contains('mid')  ? {size:[18,40],  dur:[3000,4600], sway:[1500,2100], op:[.75,.9]} :
                                              {size:[24,56],  dur:[2500,4000], sway:[1300,1900], op:[.85,.98]};

  const L = img.classList.contains('far') ? {size:[14,28],  dur:[3600,5200], sway:[1700,2300], op:[.55,.7]} :
                img.classList.contains('mid') ? {size:[18,40],  dur:[3000,4600], sway:[1500,2100], op:[.75,.9]} :
                                                {size:[24,56],  dur:[2500,4000], sway:[1300,1900], op:[.85,.98]};

      const size   = rand(...L.size);
      const dur    = rand(...L.dur);
      const sway   = rand(...L.sway);
      const op     = rand(...L.op);

      const startX = Math.random()*100; // vw
      const dx     = (WIND.vx + (Math.random()*80-40)) + 'px';
      const rot    = (Math.random()*360*(Math.random()<.5?-1:1))+'deg';
      const rA     = (Math.random()*8 - 4)+'deg';
      const rB     = (Math.random()*8 - 4)+'deg';
      const flip   = (Math.random()*30 + 10)+'deg';
      const flipDur= (Math.random()*1200 + 1800)+'ms';
      const delay  = Math.random()*280;



      img.style.left = `calc(${startX}vw - ${size/2}px)`;
      img.style.height = size + 'px';
      img.style.setProperty('--dur',     dur + 'ms');
      img.style.setProperty('--swayDur', sway + 'ms');
      img.style.setProperty('--dx',      dx);
      img.style.setProperty('--rot',     rot);
      img.style.setProperty('--rA',      rA);
      img.style.setProperty('--rB',      rB);
      img.style.setProperty('--op',      op);
      img.style.setProperty('--flip',    flip);
      img.style.setProperty('--flipDur', flipDur);
      img.style.animationDelay = delay + 'ms';

      layer.appendChild(img);
      setTimeout(() =>img.remove(), dur + 1500 + delay);
    }
    
    function startAmbientLeaves() {
const isMobile = /Mobi|Android/i.test(navigator.userAgent);
  const baseBurst = isMobile ? 2 : 3;
      // –ø—É–ª—å—Å —Å–ª–æ—è–º–∏: –¥–∞–ª—å–Ω–∏–µ ‚Üí —Å—Ä–µ–¥–Ω–∏–µ ‚Üí –±–ª–∏–∂–Ω–∏–µ
  setInterval(()=>{ for(let i=0;i<baseBurst;i++) spawnLeaf('far'); }, 2200);
  setInterval(()=>{ for(let i=0;i<baseBurst;i++) spawnLeaf('mid'); }, 1900);
  setInterval(()=>{ for(let i=0;i<baseBurst;i++) spawnLeaf('near'); }, 2400);
    
// –æ–¥–∏–Ω–æ—á–Ω—ã–µ ¬´–≤–∫—Ä–∞–ø–ª–µ–Ω–∏—è¬ª
  setInterval(()=> spawnLeaf(), isMobile ? 1200 : 900);
}

/* –∑–∞–ª–ø –ø—Ä–∏ ¬´–¥–æ–±—Ä–æ–º –¥–µ–ª–µ¬ª */
function burstLeaves(n=24){for(let i=0;i<n;i++) setTimeout(()=>spawnLeaf('near'), i*55); }

/* –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ */
window.addEventListener('DOMContentLoaded', startAmbientLeaves);
  
//–∫–Ω–æ–ø–∫–∞
    // ‚Äî‚Äî‚Äî –ª–æ–≥–∏–∫–∞ –∫–Ω–æ–ø–∫–∏ ‚Äî‚Äî‚Äî
    let count = 0;
    const quotes = [
      "–ö–∞–∂–¥—ã–π –ª–∏—Å—Ç —à–µ–ø—á–µ—Ç —Ç–µ–±–µ —Å–ø–∞—Å–∏–±–æ üåø",
      "–¢—ã ‚Äî —á–∞—Å—Ç—å –≤–µ–ª–∏–∫–æ–≥–æ –ª–µ—Å–∞ üçÉ",
      "–ü—Ä–∏—Ä–æ–¥–∞ —á—É–≤—Å—Ç–≤—É–µ—Ç —Ç–≤–æ—é –∑–∞–±–æ—Ç—É üíö",
      "–ú–∏—Ä —Å—Ç–∞–ª —á—É—Ç—å —Å–≤–µ—Ç–ª–µ–µ üåû",
      "–¢–≤–æ–∏ —Ä—É–∫–∏ —Ç–≤–æ—Ä—è—Ç –¥–æ–±—Ä–æ üåç"
    ];

    function helpNature(){
      count++;
      document.getElementById("counter").textContent =
        `–¢—ã —É–∂–µ —Å–¥–µ–ª–∞–ª ${count} –¥–æ–±—Ä—ã—Ö –¥–µ–ª üíö`;
      const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
      document.getElementById("quote").textContent = randomQuote;

      // –∑–∞–ª–ø –ª–∏—Å—Ç—å–µ–≤ –Ω–∞ –∫–∞–∂–¥–æ–µ –¥–æ–±—Ä–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
      burstLeaves(28); // üåø —Ç—É—Ç –º–∞–≥–∏—è
    }

    // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ ¬´–¥—ã–º–∫–∏¬ª –ª–∏—Å—Ç—å–µ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    window.addEventListener('DOMContentLoaded', startAmbientLeaves);
  </script>
</body>
</html>
